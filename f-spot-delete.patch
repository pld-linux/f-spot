Index: src/f-spot.glade
===================================================================
--- src/f-spot.glade	(wersja 2906)
+++ src/f-spot.glade	(kopia robocza)
@@ -1031,7 +1031,7 @@
 	  <child>
 	    <widget class="GtkTable" id="options_table">
 	      <property name="visible">True</property>
-	      <property name="n_rows">3</property>
+	      <property name="n_rows">4</property>
 	      <property name="n_columns">3</property>
 	      <property name="homogeneous">False</property>
 	      <property name="row_spacing">5</property>
@@ -1259,6 +1259,30 @@
 		  <property name="y_options"></property>
 		</packing>
 	      </child>
+
+	      <child>
+		<widget class="GtkCheckButton" id="delete_files_checkbox">
+		  <property name="visible">True</property>
+		  <property name="tooltip" translatable="yes">Delete imported file from camera</property>
+		  <property name="can_focus">True</property>
+		  <property name="label" translatable="yes">_Delete from camera</property>
+		  <property name="use_underline">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		  <property name="active">False</property>
+		  <property name="inconsistent">False</property>
+		  <property name="draw_indicator">True</property>
+		  <signal name="toggled" handler="HandleImportToggled" last_modification_time="Thu, 01 Feb 2007 20:41:45 GMT"/>
+		</widget>
+		<packing>
+		  <property name="left_attach">0</property>
+		  <property name="right_attach">1</property>
+		  <property name="top_attach">3</property>
+		  <property name="bottom_attach">4</property>
+		  <property name="x_options">fill</property>
+		  <property name="y_options"></property>
+		</packing>
+	      </child>
 	    </widget>
 	    <packing>
 	      <property name="padding">0</property>
Index: src/GPhotoCamera.cs
===================================================================
--- src/GPhotoCamera.cs	(wersja 2906)
+++ src/GPhotoCamera.cs	(kopia robocza)
@@ -208,7 +208,18 @@
 		
 		camfile.Save (filename);
 	}
-		
+	
+	public void DeleteFile (int index)
+	{
+		if (camera_fs == null || files == null || index < 0 || index >= files.Count)
+			return;
+			
+		GPhotoCameraFile selected_file = (GPhotoCameraFile)files [index];
+		camera_fs.DeleteFile (selected_file.Directory,
+				      selected_file.FileName,
+				      context);
+	}
+
 	public void SaveAllFiles (string prefix, int start_number)
 	{		
 		for(int index = 0; index < files.Count; index++) {
Index: src/CameraFileSelectionDialog.cs
===================================================================
--- src/CameraFileSelectionDialog.cs	(wersja 2906)
+++ src/CameraFileSelectionDialog.cs	(kopia robocza)
@@ -22,6 +22,7 @@
 		[Widget] Gtk.Button save_directory_selection_button;
 		[Widget] Gtk.Entry prefix_entry;
 		[Widget] Gtk.CheckButton import_files_checkbox;
+		[Widget] Gtk.CheckButton delete_files_checkbox;
 		[Widget] Gtk.Button select_tag_button;
 		
 		GPhotoCamera camera;
@@ -257,6 +258,9 @@
 			
 			camera.SaveFile (index, path);
 			
+			if (delete_files_checkbox.Active)
+				camera.DeleteFile (index);
+			
 			string dest = FileImportBackend.ChooseLocation (path);
 			System.IO.File.Move (path, dest);
 			path = dest;
